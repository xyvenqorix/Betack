<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280">
    <title>CineVerse | Pro Player</title>
    <style>
        :root { --red: #ff0000; --bg: #050505; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; margin: 0; text-align: center; }

        /* HEADER */
        header { padding: 20px; background: #000; border-bottom: 2px solid var(--red); display: flex; justify-content: space-around; align-items: center; }
        .logo { font-weight: 900; letter-spacing: 3px; font-size: 1.5rem; }

        /* SECCIÓN SUPERIOR: LA FOTO EN EL MONITOR */
        .top-preview { padding: 40px 0; background: linear-gradient(to bottom, #111, #050505); }
        .monitor-mac {
            width: 700px; height: 400px; margin: 0 auto;
            border: 12px solid #ddd; border-radius: 20px; position: relative;
            box-shadow: 0 0 40px rgba(255,255,255,0.1); overflow: hidden;
        }
        .monitor-mac img { width: 100%; height: 100%; object-fit: cover; }
        .base { width: 120px; height: 40px; background: #bbb; margin: -5px auto 0; clip-path: polygon(15% 0%, 85% 0%, 100% 100%, 0% 100%); }

        /* SECCIÓN MEDIA: SELECTOR */
        .controls { padding: 30px; }
        .btn-cap { 
            background: #222; border: 1px solid #444; color: white; 
            padding: 12px 25px; margin: 5px; cursor: pointer; border-radius: 5px;
            transition: 0.3s;
        }
        .btn-cap:hover { background: var(--red); border-color: var(--red); box-shadow: 0 0 15px var(--red); }

        /* SECCIÓN INFERIOR: EL VIDEO REAL */
        .bottom-video { 
            width: 954px; height: 562px; margin: 20px auto 100px; 
            background: #000; border: 2px dashed #333; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
        }
        .video-label { color: #555; font-size: 1.2rem; font-weight: bold; text-transform: uppercase; }
    </style>
</head>
<body>

<header>
    <div class="logo"><span style="color:var(--red)">CINEVERSE</span> PRO</div>
    <div id="serie-name" style="font-size: 1.2rem; border-left: 2px solid var(--red); padding-left: 15px;">Cargando serie...</div>
</header>

<section class="top-preview">
    <div class="monitor-mac">
        <img id="foto-muestra" src="" alt="Muestra de la serie">
    </div>
    <div class="base"></div>
</section>

<hr style="border: 0; border-top: 1px solid #222; width: 80%;">

<section class="controls">
    <h3 style="color:var(--red)">ELEGIR CAPÍTULO:</h3>
    <div id="btn-container"></div>
</section>

<section class="bottom-video" id="video-player">
    <div class="video-label">El video aparecerá aquí al elegir capítulo</div>
</section>

<script>
    let db = null;

    // Cargar JSON
    fetch('database.json')
        .then(res => res.json())
        .then(data => {
            db = data;
            const serie = db.series[0]; // Cargamos la primera serie por defecto
            
            // Ponemos la foto arriba
            document.getElementById('foto-muestra').src = serie.foto_preview;
            document.getElementById('serie-name').innerText = serie.titulo;

            // Generamos los botones abajo
            const container = document.getElementById('btn-container');
            serie.temporadas[0].capitulos.forEach(cap => {
                const btn = document.createElement('button');
                btn.className = 'btn-cap';
                btn.innerText = `Capítulo ${cap.num}: ${cap.titulo}`;
                // Al hacer clic, inyectamos el embed en la sección de ABAJO
                btn.onclick = () => {
                    document.getElementById('video-player').innerHTML = cap.embed;
                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                };
                container.appendChild(btn);
            });
        });
</script>

</body>
</html>
